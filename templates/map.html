{% extends "base.html" %}
{% block title %}Map | OuterSpaces{% endblock %}
{% block script %}
  <script src="../static/scripts/markers.js"></script>
  <script src="../static/scripts/initMap.js"></script>
  <script src="../static/scripts/mapHelpers.js"></script>
  <script async defer 
  src="https://maps.googleapis.com/maps/api/js?key={{ key }}&callback=initMap&libraries=geometry">
  </script>
{% endblock %}

{% block body %}


  <div class="col-xs-12 col-sm-8" id="{{ id }}">

    <h3 class="text-center">Click on an OuterSpace marker to see detailed 
    information, get directions, show nearby locations, or add to your favorites. 
    Click in a neighborhood to show OuterSpaces in that neighborhood.</h3>

    <div id="map"></div>
    <h3 id="infoBox"></h3>

  </div>

  <div class="col-xs-12 col-sm-4 text-center">
    
    <h4>Show / Hide:</h4>
      
    <span class="nobreak">
      <input type="checkbox" name="space" value="truck" class="checkbox-circle" 
      id="truckMap" checked>
      <label for="truckMap">&nbsp;Food Trucks&nbsp;&nbsp;</label>
    </span>
    <span class="nobreak">
      <input type="checkbox" name="space" value="popos" class="checkbox-circle" 
      id="poposMap" checked>
      <label for="poposMap">&nbsp;POPOS&nbsp;&nbsp;</label>
    </span>
    <span class="nobreak">
      <input type="checkbox" name="space" value="art" class="checkbox-circle" 
      id="artMap" checked>
      <label for="artMap">&nbsp;Public Art&nbsp;&nbsp;</label>
    </span>
    <span class="nobreak">
      <input type="checkbox" name="space" value="hood" class="checkbox-circle"
      id="hoodMap" checked>
      <label for="hoodMap">&nbsp;Neighborhoods</label>
      <br><br>
    </span>

   
      <div class="col-xs-12 text-center">
        <form id="searchForm">
          <div class="form-group">
            <input type="text" class="form-control"  name="search" 
            placeholder="tacos, terrace..." id="search">
          </div>
          <button type="submit" class="btn btn-default">Search for OuterSpaces</button>
          <a href="/map"><button type="button" id="resetMap" class="btn btn-default">Reset</button></a>

          {% if id != "view_map" %}
            <form>
              <input type="hidden" id="lat" value="{{ lat }}">
              <input type="hidden" id="lng" value="{{ lng }}">
              <input type="hidden" id="identifier" value="{{ identifier }}">
            </form>
          {% endif %}
        </form>
        <br>
      </div>


      <div class="col-xs-12 text-center">
        <form id="addressForm">
          <div class="form-group">
            <input type="text" class="form-control"  name="searchByAddress" 
            placeholder="123 Market St" id="searchByAddress">
          </div>
          <button type="submit" class="btn btn-default">Show OuterSpaces Near an Address</button>
        </form>
        <div id="numLocationsAddress"></div>
      </div>
   


    
    <div id="textDirections"></div>

  </div>

{% endblock %}